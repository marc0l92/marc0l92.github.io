(this.webpackJsonpgw2trading=this.webpackJsonpgw2trading||[]).push([[0],{19:function(e,t,n){e.exports=n(42)},24:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(17),r=n.n(c),s=(n(24),n(2)),l=n(3),u=n(5),o=n(4),m=n(6),p=n(7),h=n.n(p),d="https://api.guildwars2.com/v2",v={},f={},g={},b={};function E(e){console.log(e)}var j=function(e){return e in v||(v[e]=new Promise((function(t){h.a.get(d+"/items/"+e).then((function(e){console.log(e),e&&200===e.status&&t(e.data)})).catch(E)}))),v[e]},O=function(e){return e in f||(f[e]=new Promise((function(t){h.a.get(d+"/recipes/"+e).then((function(e){console.log(e),e&&200===e.status&&t(e.data)})).catch(E)}))),f[e]},y=function(e){return e in g||(g[e]=new Promise((function(t){h.a.get(d+"/recipes/search?output="+e).then((function(e){console.log(e),e&&200===e.status&&t(e.data)})).catch(E)}))),g[e]},N=function(e){return e in b||(b[e]=new Promise((function(t){h.a.get(d+"/commerce/listings/"+e).then((function(e){console.log(e),e&&200===e.status&&t(e.data)})).catch(E)}))),b[e]},w=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={id:e.item,name:""},j(n.state.id).then((function(e){n.setState({name:e.name})})),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.id,a=t.name,c="list-group-item list-group-item-action"+(this.props.isActive?" active":""),r=a||"#"+n;return i.a.createElement("button",{type:"button",onClick:function(){return e.props.changeActive(n)},className:c,title:n},r)}}]),t}(a.Component),I=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("ul",{className:"list-group"},this.props.items.map((function(t){var n=t===e.props.activeItem;return i.a.createElement(w,{key:t,item:t,changeActive:e.props.changeActive,isActive:n})})))}}]),t}(a.Component),k=n(18),A=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={ingredientsDetails:{},ingredientsListings:{}},n.props.recipe.ingredients.map((function(e){j(e.item_id).then((function(e){n.setState((function(t){var n=Object.assign({},t);return n.ingredientsDetails[e.id]=e,n}))})),N(e.item_id).then((function(e){n.setState((function(t){var n=Object.assign({},t);return n.ingredientsListings[e.id]=e,n}))}))})),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.recipe,t=e.disciplines,n=e.ingredients,a=this.state,c=a.ingredientsDetails,r=a.ingredientsListings;return i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm"},i.a.createElement("label",null,"Disciplines:")," ",t)),i.a.createElement("table",{className:"table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Id"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Quantity"),i.a.createElement("th",null,"BestInstantBuy"))),i.a.createElement("tbody",null,n.map((function(e){var t=e.item_id,n=c[t],a=r[t];return i.a.createElement("tr",{key:t},i.a.createElement("td",null,t),i.a.createElement("td",null,n?n.name:"-"),i.a.createElement("td",null,e.count),i.a.createElement("td",null,a?a.sells[0].unit_price+"$ x "+a.sells[0].quantity:"-"))})))))}}]),t}(a.Component),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).updateData=function(){n.props.item!==n.currentItem&&(n.currentItem=n.props.item,n.state.recipes=[],j(n.props.item).then((function(e){n.setState({data:e})})),y(n.props.item).then((function(e){for(var t in e)O(e[t]).then((function(e){n.setState((function(t){return Object.assign({},t,{recipes:[].concat(Object(k.a)(t.recipes),[e])})}))}))})),N(n.props.item).then((function(e){n.setState({listings:e})})))},n.state={id:n.props.item,data:null,recipes:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.updateData(),this.state.data&&this.state.listings){var e=this.state.data,t=e.name,n=e.id,a=e.type,c=this.state.listings.buys[0];return i.a.createElement("div",null,i.a.createElement("h2",null,t),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3"},i.a.createElement("label",null,"Id:")," ",n),i.a.createElement("div",{className:"col-sm-3"},i.a.createElement("label",null,"Type:")," ",a),i.a.createElement("div",{className:"col-sm-3"},i.a.createElement("label",null,"Best Instant Sell:")," ",c.unit_price,"$ x ",c.quantity)),i.a.createElement("h3",null,"Recipes"),this.state.recipes.map((function(e){return i.a.createElement(A,{key:e.id,recipe:e})})))}return i.a.createElement("div",null,i.a.createElement("h2",null,"Loading #",this.props.item,"..."))}}]),t}(a.Component),C=[12178,12192,12209],D=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).changeActive=function(e){n.setState({activeItem:e})},n.state={activeItem:C[0]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return i.a.createElement("div",{className:"App"},i.a.createElement("nav",{className:"navbar navbar-light bg-light"},i.a.createElement("a",{className:"navbar-brand",href:"/"},"GW2 Trading")),i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3 overflow-auto"},i.a.createElement(I,{items:C,activeItem:e,changeActive:this.changeActive})),i.a.createElement("div",{className:"col-sm"},i.a.createElement(S,{item:e})))))}}]),t}(a.Component);r.a.render(i.a.createElement(D,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f89998db.chunk.js.map